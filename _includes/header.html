{% if page.cover %}
{% assign cover = page.cover %}
{% elsif site.cover %}
{% assign cover = site.cover %}
{% endif %}

<header class="main-header detail-page image-bg {% if cover %} has-cover" style="background-image: url({{ cover | prepend: site.github.url | prepend: site.baseurl}})" {% else %} no-cover" {% endif %}>
    <h1 class="page-title"><a href="{{ site.github.url}}/" title="{{ site.title }}">{{ site.title }}</a></h1>
    <h2 class="page-description">{{ site.subtitle }}</h2>
    <div class="nav">
        <ul>
            {% if page.url != "/" %}
            <li><a class="page-link" href="{{ site.github.url | prepend: site.baseurl}}/" title="Home">首页</a></li>
            {% endif %}

            {% assign pages = site.pages | sort:"weight"  %}
            {% for my_page in pages %}

            {% if my_page.menutitle %}
            {% assign title = my_page.menutitle %}
            {% elsif site.title %}
            {% assign title = my_page.title %}
            {% endif %}

            {% if title and my_page.visible != false %}
            {% if page.url != my_page.url %}
            <li><a class="page-link" href="{{ my_page.url | prepend: site.github.url | prepend: site.baseurl}}" title="{{ title }}">{{ title }}</a></li>
            {% endif %}
            {% endif %}
            {% endfor %}
        </ul>
    </div>
</header>